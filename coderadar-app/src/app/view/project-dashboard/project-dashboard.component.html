<app-header [title]="'Project dashboard'"></app-header>

<main class="card-list">
  <p>{{getTitleText()}}
    <br>
    <mat-label style="font-size: 12pt">Analyzed {{commitsAnalyzed}}/{{commits.length}} commits</mat-label>
  </p>
  <mat-grid-list cols="4" rowHeight="130px">
    <mat-grid-tile *ngFor="let commit of commits" [colspan]="2" [rowspan]="1">
      <mat-card [ngClass]=
                  "{'dashboard-card-deselected' : commit !== selectedCommit1 && commit !== selectedCommit2
                    && (prevSelectedCommit1 === commit || prevSelectedCommit2 === commit),
                  'dashboard-card-selected' : commit === selectedCommit1 || commit === selectedCommit2}"
                class="dashboard-card" (click)="selectCard(commit)">
        <mat-card-content class="mat-card-content">
          <a mat-button routerLink="/project/{{project.id}}/{{commit.name}}"><b>{{commit.name}}</b></a><br>
          <mat-label>Author: {{commit.author}}</mat-label>
          <br>
          <mat-label>Date: {{timestampToDate(commit.timestamp)}}</mat-label>
          <br>
          <mat-label>Analyzed: {{booleanToString(commit.analyzed)}}</mat-label>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

    <a *ngIf="selectedCommit1 !== null && selectedCommit2 != null" class="compare-button" color="accent" mat-fab routerLink="/city/{{project.id}}">
      <div>
        <fa-icon [icon]="faClone" size="1x" style="color:white"></fa-icon>
      </div>
    </a>

  </mat-grid-list>
</main>

<app-footer></app-footer>
